{"version":3,"sources":["webpack:///./src/components/issue/index.jsx","webpack:///./src/components/icon/share.icon","webpack:///./src/components/icon/download.icon","webpack:///./src/pages/archive.jsx","webpack:///./src/components/icon/index.js","webpack:///./src/components/icon/facebook.icon","webpack:///./src/components/utils.js"],"names":["Issue","_ref","issue","d","Date","date_of_issue","formatedDate","showMonthDate","react_default","a","createElement","className","href","withPrefix","path","target","number","title","toUpperCase","symbol","browser_symbol_default","id","use","viewBox","content","share","browser_sprite_build_default","add","download_symbol","download","getShareUri","encodeURIComponent","ArchivePage","props","_this","_React$Component","call","this","data","allDataJson","edges","node","issues","sort","b","currentIssue","length","undefined","bg","React","createRef","showIssue","current","src","archive_img","alt","render","_this2","Helmet_default","map","key","onMouseEnter","bind","components_issue","ref","icon","Download","width","height","fill","Share","Component","pageQuery","Icon","react__WEBPACK_IMPORTED_MODULE_1___default","xlinkHref","_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__","_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default","__webpack_exports__","showDayDate","monthNames","getUTCMonth","getFullYear","getDate"],"mappings":"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","file":"component---src-pages-archive-jsx-ee877b46e736453219a2.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withPrefix } from 'gatsby';\nimport { showMonthDate } from '../utils';\n\nimport './issue.scss';\n\nconst Issue = ({ issue }) => {\n  const d = new Date(issue.date_of_issue);\n  const formatedDate = showMonthDate(d);\n  return (\n    <article className=\"issue\">\n      <a href={withPrefix(issue.path)} target=\"_blank\">\n        N°{issue.number} — {formatedDate}\n        <br />\n        {issue.title.toUpperCase()}\n      </a>\n    </article>\n  );\n};\n\nIssue.propTypes = {\n  issue: PropTypes.shape({\n    number: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    date_of_issue: PropTypes.string.isRequired,\n    path: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Issue;\n","import SpriteSymbol from \"../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"share\",\n  \"use\": \"share-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"share\\\">\\n<path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" />\\n<path d=\\\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"download\",\n  \"use\": \"download-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"download\\\"><path fill=\\\"none\\\" d=\\\"M0 0h24v24H0V0z\\\" /><path fill=\\\"#010101\\\" d=\\\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { graphql, withPrefix } from 'gatsby';\nimport React from 'react';\nimport Helmet from 'react-helmet';\nimport Issue from '../components/issue';\nimport Icon from '../components/icon';\nimport Facebook from '../components/icon/facebook.icon';\nimport Share from '../components/icon/share.icon';\nimport Download from '../components/icon/download.icon';\n\nconst PAGE_TITLE = 'Archives | Figure Figure';\nconst ICON_SIZE = 24;\nconst ICON_COLOR = 'black';\n\nconst getShareUri = (issue) => {\n  const path = `https://figurefigure.fr/#!publication/${issue.number}`;\n  return `https://facebook.com/sharer.php?u=${encodeURIComponent(path)}`;\n};\n\nclass ArchivePage extends React.Component {\n  constructor(props) {\n    super(props);\n    const data = props.data.allDataJson.edges[0].node;\n    this.issues = data.issues.sort((a, b) => b.number - a.number);\n    this.currentIssue = this.issues.length ? this.issues[0] : undefined;\n    this.bg = React.createRef();\n    this.share = React.createRef();\n    this.download = React.createRef();\n  }\n\n  showIssue(issue) {\n    this.bg.current.src = withPrefix(issue.archive_img);\n    this.bg.current.alt = issue.title;\n    this.share.current.href = getShareUri(issue);\n    this.download.current.href = withPrefix(issue.path);\n  }\n\n  render() {\n    return (\n      <main className=\"row\">\n        <Helmet title={PAGE_TITLE} />\n        <div className=\"col-auto issue-grid vh-site\">\n          <ul>\n            {this.issues.map(issue => (\n              <li key={`archive item ${issue.number}`} onMouseEnter={this.showIssue.bind(this, issue)}>\n                <Issue issue={issue} />\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"col vh-site issue-content\">\n          <span className=\"h-100 issue-btn-list\">\n            <a className=\"btn\" ref={this.download} target=\"_blank\" href={withPrefix(this.currentIssue.path)} download>\n              <Icon icon={Download} width={ICON_SIZE} height={ICON_SIZE} fill={ICON_COLOR} />\n            </a>\n            <br />\n            <a className=\"btn\" ref={this.share} target=\"_blank\" href={getShareUri(this.currentIssue)}>\n              <Icon icon={Share} width={ICON_SIZE} height={ICON_SIZE} fill={ICON_COLOR} />\n            </a>\n          </span>\n          <a href={withPrefix(this.currentIssue.path)}>\n            <img ref={this.bg} className=\"h-100 issue_img\" src={withPrefix(this.currentIssue.archive_img)} alt={this.currentIssue.title} />\n          </a>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default ArchivePage;\n\nexport const pageQuery = graphql`\n  query {\n    allDataJson {\n      edges {\n        node {\n          issues {\n            number\n            title\n            date_of_issue\n            path\n            image_href\n            archive_img\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from 'react';\n\nconst Icon = ({\n  icon,\n  width,\n  height,\n  fill,\n}) => (\n  <svg viewBox={icon.viewBox} width={width} height={height} fill={fill}>\n    <use xlinkHref={`#${icon.id}`} />\n  </svg>\n);\n\nexport default Icon;\n","import SpriteSymbol from \"../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"facebook\",\n  \"use\": \"facebook-usage\",\n  \"viewBox\": \"0 0 30 30\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 30 30\\\" id=\\\"facebook\\\">\\n<path d=\\\"M16.3,11.4V10c0-0.7,0.5-0.9,0.8-0.9h2V6h-2.8c-3.1,0-3.8,2.3-3.8,3.8v1.6h-1.8v2.2V15h1.8v9h3.6v-9h2.7l0.1-1.4l0.2-2.2\\n\\tH16.3z\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","const monthNames = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];\n\nexport const showMonthDate = d => `${monthNames[d.getUTCMonth()]} ${d.getFullYear()}`;\nexport const showDayDate = d => `${d.getDate()} ${monthNames[d.getUTCMonth()]} ${d.getFullYear()}`;\n"],"sourceRoot":""}